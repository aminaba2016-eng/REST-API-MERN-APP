{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\exercice\\\\checkpointapi\\\\client\\\\src\\\\Components\\\\Add.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Form } from 'semantic-ui-react';\nimport { postContact, editContact } from '../JS/actions/contacts';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Add = () => {\n  _s();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\"\n  });\n  const useReducer = useSelector(state => state.contactReducer.user);\n  const edit = useSelector(state => state.editReducer.edit);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    edit ? setUser(useReducer) : setUser({\n      name: \"\",\n      email: \"\",\n      phone: \"\"\n    });\n  }, [edit, useReducer]);\n\n  const handleContact = () => {\n    if (!edit) {\n      dispatch(postContact(user));\n    } else {\n      dispatch(editContact(useReducer._id, user));\n    }\n  };\n\n  const handleChange = e => {\n    // ma ya3mal 7ata event ma tsirech refresh ll form\n    e.preventDefault();\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: user.name,\n        placeholder: \"name\",\n        name: \"name\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: user.phone,\n        placeholder: \"Phone\",\n        name: \"phone\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: user.email,\n        placeholder: \"e-mail\",\n        name: \"email\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      onClick: handleContact,\n      children: edit ? \"Edit\" : \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Add, \"/I2dE5ghCNAmxkhl1vBVp5pRvLw=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Add;\nexport default Add;\n\nvar _c;\n\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"sources":["C:/Users/HP/exercice/checkpointapi/client/src/Components/Add.js"],"names":["React","useEffect","useState","Button","Form","postContact","editContact","Link","useDispatch","useSelector","Add","user","setUser","name","email","phone","useReducer","state","contactReducer","edit","editReducer","dispatch","handleContact","_id","handleChange","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { Button, Form } from 'semantic-ui-react'\r\nimport { postContact,editContact } from '../JS/actions/contacts'\r\nimport {Link} from 'react-router-dom'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\n\r\n\r\n\r\n\r\nconst Add = () => {\r\n    const [user, setUser] = useState({name:\"\",email:\"\",phone:\"\"}) \r\n    const useReducer = useSelector((state) => state.contactReducer.user)\r\n    const edit = useSelector((state) => state.editReducer.edit)\r\n    const dispatch = useDispatch()\r\n    useEffect(()=>{\r\n    edit? setUser(useReducer):setUser({name:\"\",email:\"\",phone:\"\"});\r\n    },[edit,useReducer])\r\nconst handleContact = () =>{\r\n    if(!edit)  {\r\n      dispatch(postContact(user))\r\n    } else{\r\n      dispatch(editContact(useReducer._id,user))\r\n    }\r\n}\r\nconst handleChange=(e)=>{\r\n  // ma ya3mal 7ata event ma tsirech refresh ll form\r\n  e.preventDefault();\r\n  setUser({...user,[e.target.name]:e.target.value})\r\n}\r\n\r\n\r\n    return (\r\n      \r\n\r\n  <Form>\r\n    <Form.Field>\r\n      <label>name</label>\r\n      <input value = {user.name} placeholder='name' name=\"name\" onChange={handleChange}/>\r\n    </Form.Field>\r\n    <Form.Field>\r\n      <label>phone</label>\r\n      <input  value = {user.phone} placeholder='Phone' name = \"phone\" onChange={handleChange} />\r\n    </Form.Field>\r\n    <Form.Field>\r\n      <label>email</label>\r\n      <input  value = {user.email} placeholder='e-mail' name=\"email\" onChange={handleChange} />\r\n    </Form.Field>\r\n    <Link to='/'></Link>\r\n{/* //kif tabda ediit true yaffichi edit sinon yaffichi save */}\r\n    <Button type='submit' onClick={handleContact}>{edit?\"Edit\": \"Save\"}</Button>\r\n  </Form>\r\n)\r\n\r\n    \r\n}\r\n\r\nexport default Add\r\n"]},"metadata":{},"sourceType":"module"}